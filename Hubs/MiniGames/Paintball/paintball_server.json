{
  "Key": "paintball_server",
  "Author": "SharkeyMyrl",
  "Description": "Gamemode controller and ruler.",

  "Repeat": 10.0,

  "If": [],
  "Equals": ["server", "paintball_game_on", "=", 1.0],
  "Skip": "GameTimer",
  "Dummy": [],

  "If": [],
  "Equals": ["[SCRIPT_PLAYER_COUNT]", "paintball_waiting", "<=", 2.0],
  "Leave": [],
  "Subtract": ["server", "paintball_lobby_timer", 1.0, true],

  "If": [],
  "Equals": ["server", "paintball_lobby_timer", ">=", 0.0],
  "Leave": [],
  "Set": ["server", "paintball_game_on", 1.0, true],
  "BroadcastMessage": "GAME ON",

  "Comment": "GameTimer",
  "BroadcastMessage": "10 seconds passed",
  "Subtract": ["server", "paintball_timer", 1.0, true],

  "If": [],
  "Equals": ["server", "paintball_timer", ">=", 58.0],
  "Leave": [],
  "Dummy": [],

  "If": [],
  "Equals": ["[SCRIPT_PLAYER_COUNT]", "paintball_red", "=", 0.0],
  "Skip": "BlueWins",
  "Dummy": [],

  "If": [],
  "Equals": ["[SCRIPT_PLAYER_COUNT]", "paintball_blue", "=", 0.0],
  "Skip": "RedWins",
  "Dummy": [],

  "If": [],
  "Equals": ["server", "paintball_timer", "<=", 0.0],
  "Skip": "CheckPoints",
  "Leave": [],

  "Comment": "CheckPoints",
  "If": [],
  "Equals":["[SCRIPT_PLAYER_COUNT]", "paintball_red_slave", "=", "[SCRIPT_PLAYER_COUNT:paintball_blue_slave]"],
  "Skip": "Draw",
  "Dummy": [],

  "If": [],
  "Equals":["server", "paintball_red_slave", "=", "[SCRIPT_PLAYER_COUNT:paintball_blue]"],
  "Skip": "Draw",
  "Dummy": [],

  "If": [],
  "Equals":["server", "paintball_red_slave", ">", "[SCRIPT_PLAYER_COUNT:paintball_blue_slave]"],
  "Skip": "RedPoints",
  "Skip": "BluePoints",

  "Comment": "Draw",
  "Add": ["server", "paintball_round", 1.0, true],
  "Skip": "CheckWinner",

  "Comment": "RedPoints",
  "Add": ["server", "paintball_redwin", 1.0, true],
  "Add": ["server", "paintball_round", 1.0, true],
  "Skip": "CheckWinner",

  "Comment": "BluePoints",
  "Add": ["server", "paintball_bluewin", 1.0, true],
  "Add": ["server", "paintball_round", 1.0, true],
  "Skip": "CheckWinner",

  "Comment": "CheckWinner",
  "BroadcastMessage": "Checking winners",
  "Set": ["server", "paintball_red", 0.0, true],
  "Set": ["server", "paintball_blue", 0.0, true],
  "Set": ["server", "paintball_timer", 0.0, true],

  "If": [],
  "Equals": ["server", "paintball_round", "<=", 7.0],
  "Skip": "ResetPlayers",
  "Dummy": [],

  "If": [],
  "Equals": ["server", "paintball_redwin", ">", "[server:paintball_bluewin]"],
  "Skip": "RedWins",
  "Skip": "BlueWins",

  "Comment": "ResetPlayers",
  "StartAll": [1.0, 1, "paintball_reset"],
  "Leave": [],

  "Comment": "BlueWins",
  "StartAll": [1.0, 7, "paintball_winners"],
  "Skip": "CleanUp",

  "Comment": "RedWins",
  "StartAll": [1.0, 3, "paintball_winners"],
  "Skip": "CleanUp",

  "Comment": "CleanUp",
  "Set": ["server", "paintball_timer", 60.0, true],
  "Set": ["server", "paintball_lobby_timer", 12.0, true],
  "Set": ["server", "paintball_game_on", -1.0, true],

  "Set": ["server", "paintball_redwin", 0.0, true],
  "Set": ["server", "paintball_bluewin", 0.0, true],
  "Set": ["server", "paintball_round", 1.0, true],
  "Set": ["server", "paintball_red", 0.0, true],
  "Set": ["server", "paintball_blue", 0.0, true],

  "Dummy": []
}
